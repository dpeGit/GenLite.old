// ==UserScript==
// @name         GenLite-dpeGit
// @namespace    GenLite-dpeGit
// @version      0.2.13
// @description  try to take over the world!
// @author       https://github.com/Retoxified/GenLite/blob/main/CREDITS.md
// @match        https://play.genfanad.com/play/
// @icon         https://www.google.com/s2/favicons?sz=64&domain=genfanad.com
// @run-at       document-start
// ==/UserScript==

/*
    Copyright (C) 2022-2023 Retoxified, dpeGit, snwhd, BonesdogNardwe, KKonaOG, FrozenReality, Xortrox
*/
/*
    This file is part of GenLite.
    GenLite is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.
    GenLite is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.
    You should have received a copy of the GNU General Public License along with Foobar. If not, see <https://www.gnu.org/licenses/>.
*/

(()=>{var __webpack_modules__={832:e=>{"use strict";e.exports=JSON.parse('{"releasesUrl":"https://api.github.com/repos/dpeGit/GenLite/releases/latest","distUrl":"https://raw.githubusercontent.com/dpeGit/GenLite/release/dist/genliteClient.user.js"}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}var __webpack_exports__={};(()=>{var githubConfig=__webpack_require__(832),genliteUpdateTimestamp=localStorage.getItem("GenLite.UpdateTimestamp");null==genliteUpdateTimestamp&&(localStorage.setItem("GenLite.UpdateTimestamp",new Date(0).toString()),genliteUpdateTimestamp=localStorage.getItem("GenLite.UpdateTimestamp"));var genliteUpdateTimestampDate=new Date(genliteUpdateTimestamp),genfanadUpdateTimestamp=localStorage.getItem("GenFanad.UpdateTimestamp");null==genfanadUpdateTimestamp&&(localStorage.setItem("GenLite.UpdateTimestamp",new Date(0).toString()),genfanadUpdateTimestamp=localStorage.getItem("GenFanad.UpdateTimestamp"));var genfanadUpdateTimestampDate=new Date(genfanadUpdateTimestamp),genliteLastModified,genfanadLastModified,xhrGenfanadModified=new XMLHttpRequest;xhrGenfanadModified.open("HEAD","https://play.genfanad.com/play/js/client.js",!1),xhrGenfanadModified.setRequestHeader("Cache-Control","no-cache, no-store, must-revalidate"),xhrGenfanadModified.send();var genfanadModifiedDate=xhrGenfanadModified.getResponseHeader("Last-Modified");genfanadLastModified=null==genfanadModifiedDate||null==genfanadModifiedDate?new Date(0):new Date(genfanadModifiedDate);var xhrGenliteModified=new XMLHttpRequest;xhrGenliteModified.open("GET",githubConfig.releasesUrl,!1),xhrGenliteModified.setRequestHeader("Accept","application/vnd.github.v3+json"),xhrGenliteModified.send();var genliteAPIRespose=JSON.parse(xhrGenliteModified.responseText),genliteModifiedDate=genliteAPIRespose.published_at,genliteVersion=genliteAPIRespose.tag_name;genliteLastModified=null==genliteModifiedDate||null==genliteModifiedDate?new Date(0):new Date(genliteModifiedDate);var genfanadJS=localStorage.getItem("GenFanad.Client");if(genfanadLastModified>genfanadUpdateTimestampDate){localStorage.setItem("GenFanad.UpdateTimestamp",genfanadLastModified.toString());var xhrClientJS_1=new XMLHttpRequest;xhrClientJS_1.open("GET","https://play.genfanad.com/play/js/client.js"),xhrClientJS_1.onload=function(){200==xhrClientJS_1.status?(genfanadJS=(genfanadJS=(genfanadJS=xhrClientJS_1.responseText).replace(/import.meta.url/g,'("https://play.genfanad.com/play/js/client.js")')).substring(0,genfanadJS.length-5)+"; document.client = {};document.client.get = function(a) {return eval(a);};document.client.set = function(a, b) {eval(a + ' = ' + b);};"+genfanadJS.substring(genfanadJS.length-5)+"//# sourceURL=client.js",localStorage.setItem("GenFanad.Client",genfanadJS)):console.error("GenFanad Client.js failed to load. Status: "+xhrClientJS_1.status)},xhrClientJS_1.send()}var needsUpdate=genliteLastModified>genliteUpdateTimestampDate;if(needsUpdate)document.addEventListener("DOMContentLoaded",(function(){document.documentElement.innerHTML="";var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Acme&display=swap",document.head.appendChild(e),document.body.style.fontFamily="Acme, sans-serif",document.documentElement.style.backgroundColor="black";var t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundImage="url(https://i.imgur.com/KutJ1gO.png)",t.style.zIndex="99",t.style.filter="blur(5px)",t.style.backgroundSize="cover",t.style.backgroundRepeat="no-repeat",t.style.backgroundPosition="center",document.body.appendChild(t);var n=document.createElement("div");n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.backgroundColor="black",n.style.opacity="0.5",n.style.filter="blur(5px)",t.appendChild(n);var a=document.createElement("div");a.id="genlite-confirm-modal",a.style.position="fixed",a.style.top="50%",a.style.left="50%",a.style.width="40%",a.style.transform="translate(-50%, -50%)",a.style.zIndex="100",document.documentElement.appendChild(a);var i=document.createElement("div");i.id="genlite-confirm-header",i.style.backgroundImage='url("https://genfanad-static.s3.us-east-2.amazonaws.com/versioned/0.120/data_client/img/new_ux/login_screen_images/generic_modal_top.png")',i.style.backgroundSize="100%, 100%",i.style.width="100%",i.style.aspectRatio="2106/310",a.appendChild(i);var l=document.createElement("div");l.style.backgroundImage='url("https://genfanad-static.s3.us-east-2.amazonaws.com/versioned/0.120/data_client/img/new_ux/login_screen_images/modal_title.png")',l.style.position="fixed",l.style.width="40%",l.style.aspectRatio="632/120",l.style.backgroundSize="100%, 100%",l.style.top="0",l.style.left="50%",l.style.transform="translate(-50%, -25%)",l.style.textAlign="center",l.style.textShadow="-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000",l.style.fontFamily="acme,times new roman,Times,serif",l.style.fontSize="1.5rem",l.style.color="white",l.style.overflow="hidden",l.style.display="flex",l.style.justifyContent="center",l.style.alignContent="center",l.style.flexDirection="column",l.innerText="GenLite is out of date!",i.appendChild(l);var s=document.createElement("div");s.id="genlite-confirm-body",s.style.backgroundImage='url("https://genfanad-static.s3.us-east-2.amazonaws.com/versioned/0.120/data_client/img/new_ux/login_screen_images/generic_modal_mid_and_bottom.png")',s.style.backgroundSize="100%, 100%",s.style.width="100%",s.style.aspectRatio="2104/1316",s.style.textAlign="center",s.style.textShadow="-1px -1px 0 #000,1px -1px 0 #000,-1px 1px 0 #000,1px 1px 0 #000",s.style.fontFamily="acme,times new roman,Times,serif",s.style.fontSize="1.5rem",s.style.color="white",a.appendChild(s);var o=document.createElement("div");o.style.width="90%",o.style.height="75%",o.style.margin="auto",o.style.overflowY="scroll",s.appendChild(o);var d=document.createElement("span");d.style.display="inline-block",d.style.width="75%",d.style.textAlign="center",d.style.paddingBottom="2em",d.innerText="A new version of GenLite is available. It is highly recommended that you update to the latest version, as older versions may not work properly. If you choose to continue with this version, you may experience issues or bugs that have been fixed in the latest version. You will only be notified of this update once.",o.appendChild(d);var r=document.createElement("div");r.style.backgroundImage='url("https://genfanad-static.s3.us-east-2.amazonaws.com/versioned/0.120/data_client/img/new_ux/login_screen_images/return_button.png")',r.style.backgroundSize="100%, 100%",r.style.width="15%",r.style.aspectRatio="131/52",r.style.position="fixed",r.style.top="100%",r.style.left="40%",r.style.transform="translate(-50%, -175%)",r.style.display="flex",r.style.justifyContent="center",r.style.alignContent="center",r.style.flexDirection="column",r.style.cursor="pointer",r.innerText="Update Now",r.onclick=function(e){localStorage.setItem("GenLite.UpdateTimestamp",genliteLastModified.toString());var t=new XMLHttpRequest;t.open("GET",githubConfig.distUrl),t.onload=function(){if(200==t.status){var e=t.responseText;localStorage.setItem("GenLite.Client",e),localStorage.setItem("GenLite.Version",genliteVersion),setTimeout((function(){window.location.reload()}),100)}},t.send()},o.appendChild(r);var p=document.createElement("div");p.style.backgroundImage='url("https://genfanad-static.s3.us-east-2.amazonaws.com/versioned/0.120/data_client/img/new_ux/crafting/crafting_2/make_all.png")',p.style.backgroundSize="100%, 100%",p.style.width="15%",p.style.aspectRatio="188/72",p.style.position="fixed",p.style.top="100%",p.style.left="60%",p.style.transform="translate(-50%, -175%)",p.style.display="flex",p.style.justifyContent="center",p.style.alignContent="center",p.style.flexDirection="column",p.style.cursor="pointer",p.innerText="Remind Me Later",p.onclick=function(e){localStorage.setItem("GenLite.UpdateTimestamp",genliteLastModified.toString()),a.remove()},o.appendChild(p)}));else{var genliteJS=localStorage.getItem("GenLite.Client"),genliteVersion_1=localStorage.getItem("GenLite.Version");window.addEventListener("load",(function(){var e=document.createElement("p");e.innerText="GenLite Version:"+genliteVersion_1,e.id="genlite-version",e.style.padding="0",e.style.margin="0",document.getElementById("loginversion").appendChild(e)})),eval(genliteJS)}})()})();